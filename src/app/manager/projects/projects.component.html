<section class="project">
  <header class="project-header ">
    <!--? Import shared-header component to display main header and content -->
    <div class="container">
      <div class="row  justify-content-between align-items-center shadow py-3 mb-4 ">
        <app-shared-header [mainTextHeader]="mainTextHeader" [mainTxTHeaderBtn]="mainTxTHeaderBtn"></app-shared-header>
      </div>
    </div>
  </header>
  <div class="container px-3">
    <div class="col-8 ">
      <mat-form-field class="w-75 " appearance="outline">
        <button  matPrefix mat-icon-button 
        (click)="onGetManagerProjects()">
        <mat-icon>search</mat-icon>
       </button>
        <mat-label class="lable">Search</mat-label>
       
        <input type="text" class=" text-dark inp-radius" placeholder="Search By Title"
          [(ngModel)]="projectFiltrationValue"  (keyup.enter)="onGetManagerProjects()" matInput>
        <button *ngIf="projectFiltrationValue" matSuffix mat-icon-button aria-label="Clear"
          (click)="projectFiltrationValue='';onGetManagerProjects()">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>
    <table *ngIf="projectList.data.length != 0" class="table table-striped  table-bordered text-center border border-1  shadow ">
      <thead>
        <th>Title</th>
        <th>Description</th>
        <th>Creation date</th>
        <th>Modification date</th>
        <th>Tasks</th>
        <th>Actions</th>
      </thead>
      <tbody>
        <tr *ngFor="let projects of projectList.data">
          <!--? Title Column -->
          <td>{{projects.title}}</td>
          <!--? Description Column -->
          <td>{{projects.description}}</td>
          <!--? CreationDate Column -->
          <td>{{projects.creationDate | date:'dd-mm-yyyy'}}</td>
          <!--? ModificationDate Column -->
          <td>{{projects.modificationDate | date: 'dd/mm h:m a'}}</td>
          <!--? Task Column -->
          <td>{{projects.task.length}}</td>

          <td>
            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item [routerLink]="['view',projects.id,'disabled']">
                <mat-icon>visibility</mat-icon>
                <span>View</span>
              </button>
              <button mat-menu-item [routerLink]="['editProject',projects.id,'edit']">
                <mat-icon>edite_square</mat-icon>
                <span>Edit</span>
              </button>
              <button mat-menu-item (click)="openDeleteDialog(projects.id)">
                <mat-icon>delete</mat-icon>
                <span>Delete</span>
              </button>
            </mat-menu>
          </td>
        </tr>
      </tbody>
    </table>
    <app-no-data *ngIf="projectList.data.length == 0 "></app-no-data>
    <div class="  bg-transparent">
      <!-- ? paginator -->
      <mat-paginator *ngIf="projectList.data.length > 0" #paginator class="demo-paginator  bg-transparent" (page)="handlePageEvent($event)"
        [length]="projectList.totalNumberOfRecords" [pageSize]="pageSize"
        [pageSizeOptions]="[5, 10, 25 , 50]"
        [pageIndex]="PageNumber"
        aria-label="Select page">
      </mat-paginator>
    </div>
  </div>
</section>



