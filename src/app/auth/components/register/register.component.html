<section class="main">
    <div class="container">
        <div class="row justify-content-center align-items-center row1 m">
            <div class="col-md-10">
                <div class="d-flex justify-content-center mb-2"><img src="./assets/images/logo.svg" alt=""></div>
                <div class="reg-card mt-4 rounded-5 py-3 px-5">
                 <div class="py-3">
                    <span class="sp">welcome to PMS</span>
                    <h2><span class="sp2">C</span>reate New Account</h2>
                 </div>
                    <div class="d-flex justify-content-center">
                        <ngx-dropzone (change)="onSelect($event)" class="drop" [multiple]="false">
                            <ngx-dropzone-label>Select Your Profile Image</ngx-dropzone-label>
                            <ngx-dropzone-image-preview class="h-100 m-0"  ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f">
                                <ngx-dropzone-label><i class="fa-solid fa-camera fa-xl"></i></ngx-dropzone-label>
                              </ngx-dropzone-image-preview>                          
                        </ngx-dropzone>
                    </div>                    
                    <!-- registerForm  -->
                    <form action="" [formGroup]="registerForm" (ngSubmit)="handleRegister()">
                        <!-- userName -->
                        <div class="row container mt-3">
                            <div class="col-md-6">
                                <mat-form-field class="w-100">
                                    <mat-label class="lable">User Name</mat-label>
                                    <input formControlName="userName" type="text" placeholder="Enter your name" class="inp text-white" matInput>
                                    <mat-error>Name is require</mat-error>
                                </mat-form-field>
                            </div>
                            <!-- Email  -->
                            <!-- all  -->
                            <div class="col-md-6">
                                <mat-form-field class="w-100">
                                    <mat-label class="lable">E-mail</mat-label>
                                    <input [(ngModel)]="email" formControlName="email" type="email" placeholder="Enter your E-mail" class="inp text-white" matInput>
                                    <mat-error *ngIf="registerForm.get('email')?.getError('required')&&(registerForm.get('email')?.value!=''||registerForm.get('email')?.touched||registerForm.invalid)">Email is required</mat-error>
                                    <mat-error *ngIf="registerForm.get('email')?.getError('email')">Email is not Valid</mat-error>
                                </mat-form-field>
                            </div>
                            <!-- country -->
                            <div class="col-md-6">
                                <mat-form-field class="w-100">
                                    <mat-label class="lable">Country</mat-label>
                                    <input formControlName="country" type="text" placeholder="Enter your country" class="inp text-white" matInput>
                                    <mat-error>Country name is required</mat-error>
                                </mat-form-field>
                            </div>
                            <!-- phone  -->
                            <div class="col-md-6">
                                <mat-form-field class="w-100">
                                    <mat-label class="lable">Phone Number</mat-label>
                                    <input formControlName="phoneNumber" type="tel" placeholder="Enter your phone number" class="inp text-white" matInput>
                                    <mat-error *ngIf="registerForm.get('phoneNumber')?.getError('required')&&(registerForm.get('phoneNumber')?.value!=''||registerForm.get('phoneNumber')?.touched||registerForm.invalid)">Phone is required</mat-error>
                                    <mat-error *ngIf="registerForm.get('phoneNumber')?.getError('pattern')">Number is invalid</mat-error>
                                </mat-form-field>
                            </div>
                            <!-- password  -->
                            <div class="col-md-6">
                                <mat-form-field class="w-100">
                                    <mat-label class="lable">Enter your password</mat-label>
                                    <input formControlName="password" placeholder="Enter your Password" class="inp text-white" matInput [type]="hide ? 'password' : 'text'">
                                    <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                                      <mat-icon class="text-white">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                                    </button>
                                    <mat-error *ngIf="registerForm.get('password')?.touched&&registerForm.get('password')?.getError('required')">Password is required</mat-error>
                                    <mat-error *ngIf="registerForm.get('password')?.getError('pattern')&&registerForm.get('password')?.value!=''">your password is invalid</mat-error>
                                  </mat-form-field>
                            </div>
                            <div class="col-md-6">
                                <mat-form-field class="w-100">
                                    <mat-label class="lable">Confirm Password</mat-label>
                                    <input formControlName="confirmPassword" placeholder="Confirm New Password" class="inp text-white" matInput [type]="hide2 ? 'password' : 'text'">
                                    <button type="button" mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide2">
                                      <mat-icon class="text-white">{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
                                    </button>
                                    <mat-error *ngIf="registerForm.get('confirmPassword')?.getError('required')&&(registerForm.get('confirmPassword')?.value!=''||registerForm.get('confirmPassword')?.touched||registerForm.invalid)">confirmPassword is required</mat-error>
                                    <mat-error *ngIf="registerForm.get('confirmPassword')?.value!=''&&registerForm.get('confirmPassword')?.getError('compare')">Password not match</mat-error>
                                  </mat-form-field>
                            </div>
                            <div class="d-flex justify-content-between container-fluid">
                                <a class="text-decoration-none text-white cursor-pointer">you have an account? <span routerLink="/auth/login" class="text-warning">Sign in</span></a>
                                <a class="text-decoration-none text-white cursor-pointer btn" (click)="openDialog('700ms','350ms','')">Verify Now</a>
                              </div>
                            <button class="reg-btn w-50 btn rounded-pill text-white d-block mx-auto py-2 mt-4">Save <i *ngIf="loading" class="fa-solid fa-spinner fa-spin-pulse"></i></button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>